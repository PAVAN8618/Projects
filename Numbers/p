<!DOCTYPE>
<html lang="en">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-47053403-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-47053403-1');
</script>
  <link rel="shortcut icon" href="<?php echo base_url(); ?>favicon.ico?v=4"/>
<meta property="og:type" content="rentmystay.com:Property">
<meta property="fb:app_id" content="1393936557534944">
<link rel="canonical" href="<?echo base_url()?>">
<!-- <meta property="og:image" content="{{pic[0]['pic_link']}}"> -->
<!-- <meta property="og:title" content="{{details['title']}}, rent@{{$rent_details['rms_rent']}}"> -->
<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
 <script src="<?php echo base_url().RES_DIR; ?>/js/ajax_jquery.js"></script>
<meta name="description" content="<?php echo $meta_description?>">
<meta name="keywords" content="<?php echo $meta_keywords?>">
<link rel="stylesheet" href="<?php echo base_url().RES_DIR; ?>/css/uikit.min.css" />
<!-- <link href="<?php echo base_url().RES_DIR; ?>/css/bootstrap-datepicker.css" rel="stylesheet"> 

<script  src="<?php echo base_url().RES_DIR; ?>/js/bootstrap4datepickerminify.js" async></script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.min.js"></script> -->
  <title><?echo $title?></title>
 <script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Product",
	"name": "<?echo $title;?>",
	"description":"<?echo  preg_replace('/[^A-Za-z0-9]/', ' ', substr($description,0,300));?>",
	"review": {
        "@type": "Review",
        "reviewRating": {
          "@type": "Rating",
          "ratingValue": "4",
          "bestRating": "5"
        },
	  "author": {
          "@type": "Person",
          "name": "RMS"
        }
	},
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.4",
        "reviewCount": "<?$rev=ceil($prop_id/100);echo $rev;?>"
      },
       "offers": {
        "@type": "Offer",
        "priceCurrency": "INR",
        "price": " <?echo $rms_rent;?>",
        "itemCondition": "https://schema.org/UsedCondition",
        "availability": "https://schema.org/InStock"
      }
    
}
</script>
<style>
/*.fancybox-slide--iframe .fancybox-content {
    width  : 500px;
    height : 500px;
    max-width  : 50%;
    max-height : 65%;
    margin: 0;
}*/
.row.no-gutters {
  margin-right: 0;
  margin-left: 0;
}
h3 {
    display:inline
}

 .nav-link.active {
    color: #4682b4;
    background-color: #4682b4;
    border-color: transparent transparent #4682b4;
    border-bottom: 4px solid !important;
    /*font-size: 15px;*/
    font-weight: bold;
}

</style>
<style>
  


label {
  display: block;
  position: relative;
  margin: 40px 0px;
}

.mobile{
  display: none;
}
@media(max-width: 992px){
  .desktop{
    display: none;
  }
  .mobile{
    display: block;
  }
}



/* Note the `#small-carousel` prefixes */
@media (min-width: 768px) {
    /* show 3 items */
    #small-carousel .carousel-inner .active,
    #small-carousel .carousel-inner .active + .carousel-item,
    #small-carousel .carousel-inner .active + .carousel-item + .carousel-item {
        display: block;
    }
    
    #small-carousel .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left),
    #small-carousel .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left) + .carousel-item,
    #small-carousel .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left) + .carousel-item + .carousel-item {
        transition: none;
    }
    
    #small-carousel .carousel-inner .carousel-item-next,
    #small-carousel .carousel-inner .carousel-item-prev {
      position: relative;
      transform: translate3d(0, 0, 0);
    }
    
    #small-carousel .carousel-inner .active.carousel-item + .carousel-item + .carousel-item + .carousel-item {
        position: absolute;
        top: 0;
        right: -33.3333%;
        z-index: -1;
        display: block;
        visibility: visible;
    }
    
    /* left or forward direction */
    #small-carousel .active.carousel-item-left + .carousel-item-next.carousel-item-left,
    #small-carousel .carousel-item-next.carousel-item-left + .carousel-item,
    #small-carousel .carousel-item-next.carousel-item-left + .carousel-item + .carousel-item,
    #small-carousel .carousel-item-next.carousel-item-left + .carousel-item + .carousel-item + .carousel-item {
        position: relative;
        transform: translate3d(-100%, 0, 0);
        visibility: visible;
    }
    
    /* farthest right hidden item must be abso position for animations */
    #small-carousel .carousel-inner .carousel-item-prev.carousel-item-right {
        position: absolute;
        top: 0;
        left: 0;
        z-index: -1;
        display: block;
        visibility: visible;
    }
    
    /* right or prev direction */
    #small-carousel .active.carousel-item-right + .carousel-item-prev.carousel-item-right,
    #small-carousel .carousel-item-prev.carousel-item-right + .carousel-item,
    #small-carousel .carousel-item-prev.carousel-item-right + .carousel-item + .carousel-item,
    #small-carousel .carousel-item-prev.carousel-item-right + .carousel-item + .carousel-item + .carousel-item {
        position: relative;
        transform: translate3d(100%, 0, 0);
        visibility: visible;
        display: block;
        visibility: visible;
    }
}
/*}*/
@font-face {
    font-family: 'proxima_nova_altbold';
    src: url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-bold-webfont.eot');
    src: url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-bold-webfont.eot?#iefix') format('embedded-opentype'),
         url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-bold-webfont.woff2') format('woff2'),
         url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-bold-webfont.woff') format('woff'),
         url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-bold-webfont.ttf') format('truetype'),
         url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-bold-webfont.svg#proxima_nova_altbold') format('svg');
    font-weight: normal;
    font-style: normal;

}
@font-face {
    font-family: 'Proxima_Nova';
    src: url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-regular-webfont.eot');
    src: url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-regular-webfont?#iefix') format('embedded-opentype'),
         url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-regular-webfont.woff2') format('woff2'),
         url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-regular-webfont.woff') format('woff'),
         url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-regular-webfont.ttf') format('truetype'),
         url('<?php echo base_url().RES_DIR; ?>/fonts/proximanova-regular-webfont.svg#Proxima_Nova') format('svg');
    font-style: normal;

}

select::-ms-expand { display: block; }

.img1{
    width: 190px; height: 100px;
  }
  .rent_price1{
 /* width:190px;
  display:block;
  position:relative;
  bottom: 0px;
  left: 0;
  padding-left:0px;
  padding-bottom:50px;*/
  position: absolute;
  top: 158px;
  color: #ffffff;
  background-color: rgba(0, 0, 0, 0.5);
}
.rent_price{
  width:190px;
  display:block;
  position:relative;
  bottom: 0px;
  left: 0;
  padding: 7px 10px;
  color: #ffffff;
  background-color: rgba(0, 0, 0, 0.5);
}
.hide_book{
  display: none;
}
.fontss_mob{
  font-family: Proxima_Nova;
  font-size: 10px
}
.fontss{
  font-family: Proxima_Nova;
  font-size: 14px
}
.fontsss{
  font-family: Proxima_Nova;
  font-size: 12px
}
.h_b_n{
  display: none;
}
</style>
</head>
<body style="display: none;overflow-x: hidden;" data-ng-app="myApp" data-ng-controller='myCtrl'>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WCFJ44"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Load Facebook SDK for JavaScript -->
<!-- <div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      xfbml            : true,
      version          : 'v3.3'
    });
  };

  (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
  fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script> -->

<!-- Your customer chat code -->
<!-- <div class="fb-customerchat"
  attribution=setup_tool
  page_id="1441558236104082">
</div> -->
<div class="fixed-top">
  <?php  echo $this->load->view('navbar_new');?> 
</div>
<div id="loading" style="position: fixed;top: 35%;width: 100%;" class="">
  <center><img alt=Loading title=loading src="<?php echo base_url();?>/resource/img/commonloader.gif" style="height: 82px;width: 157px;"></center>
</div>
<div id="main" style="background-color:#f7f9f9;display: none;">
<div class=mobile style="padding-top: 35px;">
<div style=background-color:#ececec;padding:0 id=page-wrapper-full>
<?if(isset($alert)){?>
<div class="alert alert-dismissable alert-success">
<button class=close type=button aria-hidden=true data-dismiss=alert>x</button>
<?=$alert?>
</div>
<?}?><br>
<div class=col-12>
<div class="card mb-3">
<div style=position:absolute;top:0;left:0;z-index:9 data-ng-if="details.rms_prop=='RMS Prop' || details.rms_prop=='Revenue Share'"><img class="lazy" alt=certified data-src="<?php echo base_url().RES_DIR; ?>/img/certified2.png"></div>
<div class="carousel slide"id=vinoth data-ride=carousel>
<ol class=carousel-indicators>
<li class=active data-slide-to=0 data-target=#vinoth></li>
<li data-slide-to=1 data-target=#vinoth></li>
<li data-slide-to=2 data-target=#vinoth></li>
<li class=active data-slide-to=3 data-target=#vinoth></li>
<li data-slide-to=4 data-target=#vinoth></li>
<li data-slide-to=5 data-target=#vinoth></li>
</ol>
<div class=carousel-inner style=cursor:pointer;height:230px>
<div data-ng-repeat="y in pic"data-ng-class="($index == 0 ) ? ' carousel-item active' : ' carousel-item'" style="height: 100%">
<img data-ng-if="y.on_cloud==1" alt={{y.pic_desc}} class="mx-auto d-block group list-group-image lazy" data-src="{{y.pic_link}}" style=margin-left:auto;margin-right:auto;text-align:center;display:table-cell;vertical-align:middle;max-height:100%;width:auto;>
<img data-ng-if="y.on_cloud==0" alt={{y.pic_desc}} class="mx-auto d-block group list-group-image lazy" data-src="<?=base_url()?>{{y.pic_link}}" style=margin-left:auto;margin-right:auto;text-align:center;display:table-cell;vertical-align:middle;max-height:100%;width:auto;>
</div>
</div>
<a href=#vinoth style=color:#696969 class=carousel-control-prev data-slide=prev><span class=uk-slidenav-large uk-slidenav-previous></span></a>
<a href=#vinoth style=color:#696969 class=carousel-control-next data-slide=next><span class=uk-slidenav-large uk-slidenav-next></span></a>
</div>
<div class=card-body>
<div>
  <div class="row">
    <div class="col-10">
      <h2 style="margin-bottom: 0px;"><span style=font-size:18px;font-family:proxima_nova_altbold>{{details.title}}</span></h2>
    </div>
    <div class="col-2">
      <a class="fontss text-primary text-center" data-ng-href="{{details.map_link}}">
        <i class="fa fa-map-marker fa-2x mx-auto d-block" aria-hidden="true"></i><span class="d-block">Map</span></a>
    </div>
  </div>
<!-- <br> -->
<!-- <div class=spacing></div> -->
<!-- <strong style=font-family:Proxima_Nova>Address: </strong><span class=fontss>{{details.address_display}}</span><br> -->
<!-- <center><a class="fontss" data-ng-href="{{details.map_link}}" style="color: blue;"><button class="btn btn-success">Show on map</button></a></center> -->
<div class=spacing></div>
<br>
<div class="card mb-3"style=padding:3px id=mob_amenities>
<h4 style=font-size:18px;padding-left:3%;font-family:Proxima_Nova><strong>Amenities</strong></h4>
<div class=row style=padding-left:3% ng-repeat="x in amenity">
<div class=col-4 data-ng-if="x.cable_tv==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/tv.png"> Cable TV</span>
</div>
<!-- <div class=col-4 data-ng-if="x.wifi==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/wifi.png"> WIFI</span>
</div> -->
<div class=col-4 data-ng-if="x.air_conditioning==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/ac.png"> AC</span>
</div>
<div class=col-4 data-ng-if="x.kitchen==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/utensils.png"> Utensils</span>
</div>
<div class=col-4 data-ng-if="x.refrigerator==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/fridge.png"> Fridge</span>
</div>
<!-- <div class=col-4 data-ng-if="x.gym==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/gym.png"> Gym</span>
</div> -->
<div class=col-4 data-ng-if="x.balcony==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/balcony.png"> Balcony</span>
</div>
<div class=col-4 data-ng-if="x.security==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/guard.png"> Security</span>
</div>
<div class=col-4 data-ng-if="x.elevator==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/lift.png"> Elevator</span>
</div>
<div class=col-4 data-ng-if="x.pool==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/pool.png"> Pool</span>
</div>
<div class=col-4 data-ng-if="x.smoking==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/smoking.png"> Smoking</span>
</div>
<!-- <div class=col-4 data-ng-if="x.breakfast==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/breakfast.png"> Breakfast</span>
</div> -->
<div class=col-4 data-ng-if="x.food_service==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/food.png"> Food</span>
</div>
<div class=col-4 data-ng-if="x.housekeeping==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/housekeeping.png"> Cleaning</span>
</div>
<div class=col-4 data-ng-if="x.wardrobes==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/wardrobes.png"> Closet</span>
</div>
<div class=col-4 data-ng-if="x.lights==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/lights.png"> Lights</span>
</div>
<div class=col-4 data-ng-if="x.fans==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/fans.png"> Fans</span>
</div>
<!-- <div class=col-4 data-ng-if="x.hot_water==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/hot_water.png"> Hot Water</span>
</div> -->
<!-- <div class=col-4 data-ng-if="x.cfl_bulb==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/cfl_bulb.png"> CFL Bulb</span>
</div> -->
<div class=col-4 data-ng-if="x.geysers==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/geysers.png"> Geysers</span>
</div>
<div class=col-4 data-ng-if="x.calling_bell==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/calling_bell.png"> Door Bell</span>
</div>
<div class=col-4 data-ng-if="x.dustbin==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/dustbin.png"> Dustbin</span>
</div>
<div class=col-4 data-ng-if="x.buckets_mugs==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/bucket.png"> Buckets</span>
</div>
<div class=col-4 data-ng-if="x.curtains==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/curtains.png"> Curtains</span>
</div>
<div class=col-4 data-ng-if="x.stove_cylinder==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/stove.png"> Stove</span>
</div>
<div class=col-4 data-ng-if="x.cot_mattress==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/cot.png"> Bed</span>
</div>
<div class=col-4 data-ng-if="x.sofa_deewan==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/sofa.png"> Sofa</span>
</div>
<div class=col-4 data-ng-if="x.center_table==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/center_table.png"> Table</span>
</div>
<div class=col-4 data-ng-if="x.washing_machine==1">
<span style=float:left class=fontss_mob><img style="height: 15px;" alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/washing_machine.png"> Washer</span>
</div>
</div>
</div>
<div class="spacing card">
<h4 style=padding-left:3%;font-family:Proxima_Nova;font-size:18px><strong>About house</strong></h4>
<div style=padding-left:3%>
<strong>
  <span style=word-wrap:break-word class=fontss>
    <span ng-if="details.furnishing_type">{{details.furnishing_type}}, </span>
    <span ng-if="details.new_details">{{details.new_details}}, </span>
    <span ng-if="details.room_type">{{details.room_type}}</span>
  </span>
</strong><br>
<span style=font-family:Proxima_Nova;font-size:14px data-ng-if="details.description!=0" id="desc_mob" style="white-space:pre-line"></span>
<br>
<span style=font-family:Proxima_Nova;font-size:14px data-ng-if="details.near_places_desc!=0" id="desc_place" style="white-space:pre-line">{{details.near_places_desc}}</span>
<br><br>
<span><strong>Explore nearby this location</strong></span>
<ul class=near_items style="font-size:12px;font-family:Proxima_Nova">
<li data-ng-repeat="y in s_link_url">
<a data-ng-href="<?echo base_url().'near/'."{{y | removestring1}}";?>"target=_blank>{{y | removestring}}</a>
</li>
</ul>
<span data-ng-if="blog_link_url"><strong>Blogs</strong></span>
<ul class=near_items style="font-size:12px;font-family:Proxima_Nova">
<li data-ng-repeat="y in blog_link_url">
<a data-ng-href="<?echo base_url().'near/'."{{y | removestring1}}";?>"target=_blank>{{y | removestring}}</a>
</li>
</ul>
<span data-ng-if="details.description.length > 200 && details.description.length != strLimit">
<span style=color:#00f;cursor:pointer class=fontsss data-ng-click=showMore()>Show more</span>
</span>
<span data-ng-if="details.description.length == strLimit">
<span style=color:#00f;cursor:pointer class=fontsss data-ng-click=showLess()>Show less</span>
</span></div>
</div>
<div style=background-color:#fff;padding:16px id=mob_rents>
<div class=row data-ng-if="details.offer_status==1 && details.offer_price!=0">
<div class="col-6 fontss spacing">Monthly</div>
<div class=col-6 style=text-align:right>
&#x20b9;<span style=font-size:12px data-ng-if="details.rms_rent>details.offer_price"><del>{{details.rms_rent}}</del></span> <strong>{{details.offer_price}}</strong>/<span style="font-size: 12px">Month</span>
</div>
</div>

<div class=row data-ng-if="details.offer_status!=1 && details.rent!=0">
<div class="col-6 fontss spacing">Daily</div>
<div class=col-6 style=text-align:right>
&#x20b9;<strong>{{details.rent}}</strong>/day
</div>
</div>

<div data-ng-if="details.rent!=0" class="border-bottom"></div>

<div class=row data-ng-if="details.monthly_rent!=0">
  <div class="col-6 spacing"><span class="fontss">Rent</span><br><span ng-if="details.prop_city=='bangalore'" class="fontss_mob">Stay > 3 Months</span><span ng-if="details.prop_city!='bangalore'" class="fontss_mob">Stay > 6 Months</span></div>
<div class=col-6 style=text-align:right>&#x20b9;<strong>{{details.rms_rent | number}}</strong>/M
<br><span style="font-size: 12px;">(Deposit: {{details.rms_deposit}})</span></div>
</div>

<div data-ng-if="details.monthly_rent!=0" class="border-bottom"></div>

<div class=row>
<div class="col-6 spacing"><span class="fontss">Rent</span><br><span ng-if="details.prop_city=='bangalore'" class="fontss_mob">Stay < 3 Months</span><span ng-if="details.prop_city!='bangalore'" class="fontss_mob">Stay < 6 Months</span></div>
<div class=col-6 style=text-align:right>&#x20b9;<strong>{{details.monthly_rent | number}}</strong>/M
<br><span style="font-size: 12px;">(Deposit: 10,000)</span></div>
</div>

<div class="border-bottom"></div>
</div>
</div>
<div class="spacing card mb-3"style=padding:3px id=mob_rules>
<h4 style=padding-left:3%;font-family:Proxima_Nova;font-size:18px><strong>House Rules</strong></h4>
<span style=padding-left:3% class=fontss>{{details.things2note | limitTo:strLimit1 | remove_HTML_tags}}
<span data-ng-if="details.things2note.length > 200 && details.things2note.length != strLimit1">
<span style=color:#00f;cursor:pointer class=fontsss data-ng-click=showMore1()>Show more</span>
</span>
<span data-ng-if="details.things2note.length == strLimit1">
<span style=color:#00f;cursor:pointer class=fontsss data-ng-click=showLess1()>Show less</span>
</span></span>
</div>
</div>
</div>
</div>
<? if (!empty($video_link)) {?>
  <div class="container-fluid">
    <div class="embed-responsive embed-responsive-16by9">
      <iframe width="560" height="315" src="<?=$video_link?>" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
  <br>
<?} ?>
<div class=spacing></div>
<div ng-if="similar_listing_props.length" class=container-fluid id=mob_s_props>
<center>
<span style=font-family:Proxima_Nova;font-size:16px;><strong>Similar Properties</strong></span>
</center>
<div class="carousel slide"id=small-carousel data-ride=false>
<div class="row carousel-inner mx-auto w-100"role=listbox>
<div ng-repeat="y in similar_listing_props" ng-class="($index == 0 ) ? ' carousel-item col-sm-12 active' : ' carousel-item col-sm-12'">
<div class=card style=width:100%>
<a data-ng-href="<?php echo base_url();?>rentals/details/{{y.en_id}}"><img class="lazy1 group img-fluid list-group-image"data-src={{y.pic_thumbnail}} style=margin-left:auto;margin-right:auto;text-align:center;display:table-cell;vertical-align:middle;height:100px;margin-top:5%></a>
<div class=card-body>
<div class="fontss card-text"><strong>{{y.title | uppercase}}</strong></div>
<div style=position:absolute;top:0;left:0;z-index:9 ng-if="y.rms_prop=='RMS Prop' || y.rms_prop=='Revenue Share'"><img class="lazy1" alt=certified data-src="<?php echo base_url().RES_DIR; ?>/img/certified2.png"></div>
</div>
</div>
</div>
<a href=#small-carousel class=carousel-control-prev data-slide=prev role=button>
<i class="fa fa-lg text-muted fa-chevron-left"></i>
<span class=sr-only>Previous</span>
</a>
<a href=#small-carousel class="carousel-control-next text-faded"data-slide=next role=button>
<i class="fa fa-lg text-muted fa-chevron-right"></i>
<span class=sr-only>Next</span>
</a>
</div>
</div>
</div>

<!-- The Modal -->
<div class="modal" id="BookModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <form action="<?php echo base_url()?>rentals/trip_details"method=post>
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Select Dates</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        
        <?php
            $cincout=$this->session->userdata('search_data');
            if(empty($cincout)){
              $cincout=$this->session->userdata('search_data');
            }
            $cin=$cincout['from_date'];
            $cout=$cincout['to_date'];
        ?>
        <div class=row style=padding-top:8px>
        <input name=prop_id type=hidden value="<?=$prop_id?>">
        <input name=user_id type=hidden value="<?=$user_id?>">
        <input name=offer_page type=hidden value="<?=$offer_page?>">
        <div class=col-12>
        <div class=row>
        <div class=col-6>
        <label class=fontss style=margin-top:0;margin-left:10px>MOVE IN</label>
        </div>
        <div class=col-6>
        <label class=fontss style=margin-top:0;margin-right:10px;float:right>MOVE OUT</label>
        </div>
        </div></div><br>
        <div class=col-12 style=margin-top:-18px>
        <div class=row>
        <div class=col-5>
        <input name=fromd class="form-control fromd"id=fromd data-ng-model=user.from_date1 required style=font-size:12px;margin-top:-8px;height:38px;margin-left:2px;background-color:#fff readonly>
        </div>
        <div class=col-2 style=margin-top:-20px>
        <span style=font-size:35px>→</span>
        </div>
        <div class=col-5>
        <input name=tod class="fontsss form-control tod"id=tod data-ng-model=user.to_date1 required style=font-size:12px;margin-top:-8px;height:38px;margin-left:-2px;background-color:#fff readonly>
        </div>
        </div></div>
        <div class=col-4 style=margin-top:-8%;margin-left:35%>
        <div class=form-group>
        <label class=fontss style=margin-left:16px>GUESTS</label>
        <select class="form-control num_guests"id=num_guests name=num_guests data-ng-change="get_price('num_guests')" data-ng-model=user.num_guests required style=margin-top:-6px>
        <option value="">Select</option>
        <option ng-repeat="x in details.max_guests" value="{{x}}">{{x}}</option>
        </select>
        </div></div>
        <div style=display:none id=long_term>
        <div style=margin-left:20px id=pricePM1>
        <div class=row>
        <div class=col-6 style=float:left>Rent</div>
        <div class=col-6 style=float:right><span id=long_mon_rent>0</span>/month</div>
        </div>
        </div>
        <div style=margin-left:20px id=priceDPM1>
        <div class=row>
        <div class=col-6 style=float:left>Deposit</div>
        <div class=col-6 style=float:right id=long_deposit>0</div>
        </div>
        <br>
        </div>
        </div>
        <div style=display:none id=short_term_rentals>
        <div style=margin-left:20px id=pricePM2>
        <div class=row>
        <div class=col-6 style=float:left>Rent</div>
        <div class=col-6 style=float:right><span id=mon_rent>0</span>/month</div>
        </div>
        </div>
        <div style=margin-left:20px id=priceDPM2>
        <div class=row>
        <div class=col-6 style=float:left>Deposit</div>
        <div class=col-6 style=float:right ng-if="details.monthly_rent!=0">&#x20b9;10,000</div>
        <div class=col-6 style=float:right ng-if="details.monthly_rent==0 && nights>=90">{{deposit}}</div>
        </div>
        <br>
        </div>
        </div>
        <div class=col-12 style=width:80%;background-color:#f7f9f9;padding:6%;border-radius:0;text-align:center;display:none;margin-left:36px;margin-top:-10px id=short_term>
        <div data-ng-if="user.num_guests > details.free_guests">
        <span style=color:red class=fontsss>&#x20b9;{{details.extra_per_guest}}/guest extra charges are applicable for more than {{details.free_guests}} guest(s).</span>
        </div>
        <div class=row>
        <div class=col-6 style=float:left>Night</div>
        <div class=col-6 style=float:right id=num_days>0
        </div>
        </div>
        <div class=row>
        <div class=col-6 style=float:left>Sub Total</div>
        <div class=col-6 style=float:right id=subTotal>0</div>
        </div>
        </div>
        <div class=col-12 style=margin-top:-3% data-ng-if="details.offer_status==1">
        <span style=font-family:Proxima_Nova;font-size:12px;color:red>1. Offer is applicable only for long term bookings.<br>2. Checkin date should be either today or tomorrow to avail offers</span>
        </div>
        <div ng-if="details.rent==0 && msg2" style="margin-left: 9%;padding-top: 2%;"><span class="badge badge-warning">{{msg2}}</div><br>
        <div class="col-sm-12 badge badge-warning" style="display:none;margin-top:-3%;margin-left: 6%;" id=i_response></div><br>
        <div class="col-sm-12 badge badge-success" style="display:none;margin-left: 6%;" id=avl_date></div><br>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button> -->
        <button class="btn btn-sm btn-danger"type=SUBMIT id=book_now style=width:100%;height:55px>PROCEED</button>
      </div>
      </form>

    </div>
  </div>
</div>

<div class="row mx-0 fixed-bottom" id=hide_b>
    <div class="col-12 px-0">
        <div class="btn-group btn-block">
          <a class="btn btn-success msg_frame" ng-if="details.rms_prop=='RMS Prop'" data-src="<? echo base_url()?>rentals/schedulevisit/<?php echo rtrim(base64_encode($prop_id),'=')?>" href="javascript:;" id="msg_frame_1" data-fancybox data-type="iframe" style="border-radius: 0px;padding: 0.5rem 1rem;">SCHEDULE VISIT</a>

          <a ng-if="details.rms_prop!='RMS Prop'" data-src="<?echo base_url()?>user/send_message/<?=rtrim(base64_encode($prop_id),'=')?>" href="javascript:;" class="btn btn-success msg_frame" data-fancybox data-type=iframe style="border-radius: 0px;padding: 0.5rem 1rem;">
            <!-- <i class="fa fa-1x fa-envelope"style="font-size:40px;border-radius: 0px;"></i> -->MESSAGE TO HOST
          </a>
          <button type="button" class="btn btn-primary" id="book_now1" data-toggle="modal" data-target="#BookModal" style="border-radius: 0px;padding: 0.5rem 1rem;">
            <span ng-if="details.rms_prop=='RMS Prop'">PROCEED TO BOOK</span>
            <span ng-if="details.rms_prop!='RMS Prop'">BOOK NOW PAY LATER</span>
          </button> 
        </div>
    </div>
</div>
<br><br><br>
</div>
</div>
<div class="desktop container-fluid" style="padding-top: 31">
<br>
<!-- <div class=containerr style=padding-left:1%;padding-right:1%> -->
<div class=row>
<div class=col-8 style=padding-right:0>
<div class="card mb-1">
<div class=card-body>
  <div class="row">
    <div class="col-10">
      <h1 style="margin-bottom: 2px;"><span style=font-size:25px;font-family:proxima_nova_altbold>{{details.title}}</span></h1>
      <div class=fontss id=prop_display>
      <strong>{{details.prop_type}} - </strong>{{details.ui_address}}
      <span ng-if="details.bname">, <strong>Building Name - </strong>{{details.bname}}</span>
      </div>
      <strong><span style=word-wrap:break-word class=fontss>
        <span ng-if="details.furnishing_type">{{details.furnishing_type}}, </span>
        <span ng-if="details.new_details">{{details.new_details}}, </span>
        <span ng-if="details.room_type">{{details.room_type}}</span>
      </span></strong><br>
    </div>
    <div class="col-2">
      <a class="fontss text-primary text-center" data-ng-href="{{details.map_link}}" target="_blank">
        <i class="fa fa-map-marker fa-3x mx-auto d-block" aria-hidden="true"></i><span class="d-block">View on Map</span>
      </a>
    </div>
  </div>
<!-- <div class=border-bottom></div> -->
<hr style="margin-bottom: 0px;">
</div>



<div class="carousel slide mb-3 pl-3 pr-3" id="big-carousel" data-ride="carousel">
<div class=carousel-inner style="height: 400px;">
<img class="lazy pl-3" data-ng-if="details.rms_prop=='RMS Prop' || details.rms_prop=='Revenue Share'" alt=certified data-src="<?php echo base_url().RES_DIR; ?>/img/certified.png" style="width:20%;position: absolute;z-index: 1;">
<div data-ng-repeat="y in pic" data-ng-class="($index == 0 ) ? ' carousel-item active' : ' carousel-item'" style="height: 100%">
<img data-ng-if="y.on_cloud==1" alt={{y.pic_desc}} class="mx-auto d-block group list-group-image lazy" data-src="{{y.pic_link}}" style="text-align:center;display:table-cell;vertical-align:middle;height: 100%;width: auto;">
<img data-ng-if="y.on_cloud==0" alt={{y.pic_desc}} class="mx-auto d-block group img-fluid list-group-image lazy" data-src="<?=base_url()?>{{y.pic_link}}" style="text-align:center;display:table-cell;vertical-align:middle;max-height: 100%;width: auto;">
</div>
</div>
<a href=#big-carousel style=color:#696969 class="uk-slidenav-large carousel-control-prev" data-slide=prev uk-slidenav-previous onclick="$('#big-carousel').carousel('prev')"></a>
<a href=#big-carousel style=color:#696969 class="uk-slidenav-large carousel-control-next" data-slide=next uk-slidenav-next onclick="$('#big-carousel').carousel('next')"></a>
</div>

</div>
<div class="card mb-1 pt-4 pb-4"style=padding:3px>
<h4 style=font-size:18px;padding-left:3%;font-family:Proxima_Nova><strong>Amenities</strong></h4>
<div class=row style=padding-left:3% ng-repeat="x in amenity">
<div class=col-4 data-ng-if="x.cable_tv==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/tv.png"></div><div class=col-10 style=float:left>Cable TV</div></div></div>
</div>
<!-- <div class=col-4 data-ng-if="x.wifi==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/wifi.png"></div><div class=col-10 style=float:left>WIFI</div></div></div>
</div> -->
<div class=col-4 data-ng-if="x.air_conditioning==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/ac.png"></div><div class=col-10 style=float:left>AC</div></div></div>
</div>
<div class=col-4 data-ng-if="x.kitchen==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/utensils.png"></div><div class=col-10 style=float:left>Kitchen with utensils</div></div></div>
</div>
<div class=col-4 data-ng-if="x.refrigerator==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/fridge.png"></div><div class=col-10 style=float:left>Refrigerator</div></div></div>
</div>
<!-- <div class=col-4 data-ng-if="x.gym==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/gym.png"></div><div class=col-10 style=float:left>Gym</div></div></div>
</div> -->
<div class=col-4 data-ng-if="x.balcony==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/balcony.png"></div><div class=col-10 style=float:left>Balcony</div></div></div>
</div>
<div class=col-4 data-ng-if="x.security==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/guard.png"></div><div class=col-10 style=float:left>Caretaker</div></div></div>
</div>
<div class=col-4 data-ng-if="x.elevator==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/lift.png"></div><div class=col-10 style=float:left>Elevator</div></div></div>
</div>
<div class=col-4 data-ng-if="x.pool==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/pool.png"></div><div class=col-10 style=float:left>Pool</div></div></div>
</div>
<div class=col-4 data-ng-if="x.smoking==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/smoking.png"></div><div class=col-10 style=float:left>Smoking</div></div></div>
</div>
<!-- <div class=col-4 data-ng-if="x.breakfast==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/breakfast.png"></div><div class=col-10 style=float:left>Breakfast</div></div></div>
</div> -->
<div class=col-4 data-ng-if="x.food_service==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/food.png"></div><div class=col-10 style=float:left>Free Food Service</div></div></div>
</div>
<div class=col-4 data-ng-if="x.housekeeping==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/housekeeping.png"></div><div class=col-10 style=float:left>Housekeeping</div></div></div>
</div>
<div class=col-4 data-ng-if="x.wardrobes==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/wardrobes.png"></div><div class=col-10 style=float:left>Wardrobes</div></div></div>
</div>
<div class=col-4 data-ng-if="x.lights==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/lights.png"></div><div class=col-10 style=float:left>Lights</div></div></div>
</div>
<div class=col-4 data-ng-if="x.fans==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/fans.png"></div><div class=col-10 style=float:left>Fans</div></div></div>
</div>
<!-- <div class=col-4 data-ng-if="x.hot_water==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/hot_water.png"></div><div class=col-10 style=float:left>Hot Water</div></div></div>
</div> -->
<!-- <div class=col-4 data-ng-if="x.cfl_bulb==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/cfl_bulb.png"></div><div class=col-10 style=float:left>CFL Bulb</div></div></div>
</div> -->
<div class=col-4 data-ng-if="x.geysers==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/geysers.png"></div><div class=col-10 style=float:left>Geysers</div></div></div>
</div>
<div class=col-4 data-ng-if="x.calling_bell==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/calling_bell.png"></div><div class=col-10 style=float:left>Calling Bell</div></div></div>
</div>
<div class=col-4 data-ng-if="x.dustbin==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/dustbin.png"></div><div class=col-10 style=float:left>Dustbin</div></div></div>
</div>
<div class=col-4 data-ng-if="x.buckets_mugs==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/bucket.png"></div><div class=col-10 style=float:left>Bucket & Mugs</div></div></div>
</div>
<div class=col-4 data-ng-if="x.curtains==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/curtains.png"></div><div class=col-10 style=float:left>Curtains</div></div></div>
</div>
<div class=col-4 data-ng-if="x.center_table==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/center_table.png"></div><div class=col-10 style=float:left>Center Table</div></div></div>
</div>
<div class=col-4 data-ng-if="x.sofa_deewan==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/sofa.png"></div><div class=col-10 style=float:left>Sofa or Deewan</div></div></div>
</div>
<div class=col-4 data-ng-if="x.cot_mattress==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/cot.png"></div><div class=col-10 style=float:left>Cot Mattress</div></div></div>
</div>
<div class=col-4 data-ng-if="x.stove_cylinder==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/stove.png"></div><div class=col-10 style=float:left>Stove & Cylinder</div></div></div>
</div>
<div class=col-4 data-ng-if="x.washing_machine==1">
<div class=fontss><div class=row><div class=col-2><img alt=Img class=lazy1 data-src="<?php echo base_url().RES_DIR; ?>/img/washing_machine.png"></div><div class=col-10 style=float:left>Common Washing Machine</div></div></div>
</div>
</div>
</div>
<div ng-if="details.things2note.length>0" class="spacing card mb-1 pt-4 pb-4 pr-4">
<h4 style=padding-left:3%;font-family:Proxima_Nova;font-size:18px><strong>House Rules</strong></h4>
<span style=padding-left:3% class=fontss>{{details.things2note | limitTo:strLimit1 | remove_HTML_tags}}
<span data-ng-if="details.things2note.length > 200 && details.things2note.length != strLimit1">
<span style=color:#00f;cursor:pointer class=fontsss data-ng-click=showMore1()>Show more</span>
</span>
<span data-ng-if="details.things2note.length == strLimit1">
<span style=color:#00f;cursor:pointer class=fontsss data-ng-click=showLess1()>Show less</span>
</span></span>
</div>
<div class="spacing card pt-4 pb-4 pr-4">
<h4 style=padding-left:3%;font-family:Proxima_Nova;font-size:18px><strong>About house</strong></h4>
<div style=padding-left:3%>
<strong><span style=word-wrap:break-word class=fontss>
  <span ng-if="details.furnishing_type">{{details.furnishing_type}}, </span>
  <span ng-if="details.new_details">{{details.new_details}}, </span>
  <span ng-if="details.room_type">{{details.room_type}}</span>
</span></strong><br>
<span class="fontss text-justify" data-ng-if="details.description!=0" id="desc_web" style="white-space:pre-line"></span>
<br>
<span class="fontss text-justify" data-ng-if="details.near_places_desc!=0" id="desc_place" style="white-space:pre-line">{{details.near_places_desc}}</span>
<br><br>
<span><strong>Explore nearby this location</strong></span>
<ul class=near_items style="font-size:12px;">
<li data-ng-repeat="y in s_link_url">
<a data-ng-href="<?echo base_url().'near/'."{{y | removestring1}}";?>"target=_blank>{{y | removestring}}</a>
</li>
</ul>
<span data-ng-if="blog_link_url"><strong>Blogs</strong></span>
<ul class=near_items style="font-size:12px;">
<li data-ng-repeat="y in blog_link_url">
<a data-ng-href="<?echo base_url().'near/'."{{y | removestring1}}";?>"target=_blank>{{y | removestring}}</a>
</li>
</ul>
<span data-ng-if="details.description.length > 200 && details.description.length != strLimit">
<span style=color:#00f;cursor:pointer class=fontsss data-ng-click=showMore()>Show more</span>
</span>
<span data-ng-if="details.description.length == strLimit">
<span style=color:#00f;cursor:pointer class=fontsss data-ng-click=showLess()>Show less</span>
</span></div>
</div>
</div>
<div class="col-4 shadow-sm" id=rent_div1>
<div style=top:45px;z-index:8 class="border">
<div class="row mx-0" style=background-color:#e0dfe4;>
<div class=col-4>

<a data-src="<?echo base_url()?>user/send_message/<?=rtrim(base64_encode($prop_id),'=')?>" href="javascript:;" id="msg_frame_2" class="top_pop msg_frame" title="Message to {{prop_owner.firstname}}" data-fancybox data-type=iframe><i class="fa fa-1x fa-envelope"style=font-size:40px></i><br>{{prop_owner.firstname}}
</a><br>
</div>
<div class=col-8>
<div style=margin-top:8px;float:right;font-family:Proxima_Nova>
  <span ng-if="details.rms_prop=='RMS Prop'">For booking or queries, call<br><? echo $lead['mobileno'];?> (<?echo $lead['name'];?>)</span>
  <span ng-if="details.rms_prop!='RMS Prop'">To book this property<br>message to the host</span>
</div>
</div>
</div>
<div class="col-12 pb-3" style=background-color:#fff>
<nav>
<!-- <div class="nav nav-tabs nav-fill"id=nav-tab1 role=tablist> -->
<!-- <a href="<?php echo base_url();?>rentals/schedulevisit/<?php echo rtrim(base64_encode($prop_id),'=')?>"class="nav-item nav-link"target=_blank><span style=color:#000;font-family:Proxima_Nova>SCHEDULE VISIT</span></a>
<a href=#nav-profile class="nav-item nav-link active"role=tab aria-controls=nav-profile aria-selected=true data-toggle=tab id=nav-profile-tab1><span style=color:#000;font-family:Proxima_Nova>BOOK NOW</span></a> -->
<!-- </div> -->
</nav>
<div class="px-3 px-sm-0 py-0 tab-content"id=nav-tabContent>
<div class="active fade show tab-pane"id=nav-profile role=tabpanel>
<div class=row>
<div class=col-12>
<div data-ng-if="details.lt_rental && details.offer_status==1">
  <center>
  <h3>&#x20b9;</h3><del data-ng-if="details.rms_rent>details.offer_price">{{details.rms_rent}}</del><h3> {{details.offer_price}}</h3>/Month
  </center>
</div>
<div data-ng-if="details.daily_rental && details.offer_status!=1" class="py-2">
  <center>
  <h3>&#x20b9;{{details.rent}}</h3>/day
  </center>
</div>
</div>
<!-- <div class=col-6 style=margin-top:-3% data-ng-if="isWish==false && details.offer_status==0 && details.rent!=0">
<span style=font-family:Proxima_Nova id=add>Add to Wishlist</span><br><span data-ng-click=add_to_wishlist()><i class="fa fa-2x fa-heart wish"style=color:#b0b0b0;font-size:20px;margin-left:22% id=addWish></i></span>
</div> -->
<div class=col-6 style=margin-top:-3% data-ng-if="isWish==true && details.offer_status==0 && details.daily_rental">
<span style=font-family:Proxima_Nova>Added to Wishlist</span><br><span data-ng-click=add_to_wishlist()><i class="fa fa-2x fa-heart wish"style=color:red;font-size:20px;margin-left:27% id=addWish1></i></span>
</div>
<div class=col-12 style=margin-top:0px; data-ng-if="details.offer_status==1">
<span style=font-family:Proxima_Nova;font-size:12px;color:red>1. Offer is applicable only for long term bookings..<br>2. Checkin date should be either today or tomorrow to avail offers</span>
</div>
</div>
<div data-ng-if="details.lt_rental || details.daily_rental" class="spacing border-bottom"></div>
<div data-ng-if="details.st_rental" class=row>
  <div class="col-12 mb-2">
  <center>
    <span ng-if="details.prop_city=='bangalore'" style=color:#9e9e9e>Stay less than 3 Months</span>
    <span ng-if="details.prop_city!='bangalore'" style=color:#9e9e9e>Stay less than 6 Months</span>
  </center>
</div>
<div class="spacing col border-right"style=text-align:left>
  Rent: &#x20b9;<strong style=color:#2d2d2d>{{details.monthly_rent | number}}</strong>/M
</div>
<div class="spacing col"style=text-align:right>
  Deposit: &#x20b9; 10,000
</div>
</div>

<div data-ng-if="details.lt_rental" class=row>
  <div class="col-12 mb-2">
  <center>
    <span ng-if="details.prop_city=='bangalore'" style=color:#9e9e9e>Stay more than 3 Months</span>
    <span ng-if="details.prop_city!='bangalore'" style=color:#9e9e9e>Stay more than 6 Months</span>
  </center>
</div>
<div class="spacing col border-right"style=text-align:left>
  Rent: &#x20b9;<strong style=color:#2d2d2d>{{details.rms_rent | number}}</strong>/M
</div>
<div class="spacing col"style=text-align:right>
  Deposit: &#x20b9; {{details.rms_deposit | number}}
</div>
</div>

</div></div>
<div class="card-body col-12 pl-3 pr-3 my-2 py-2 bg-warning rounded">
  <center class="small"><i class="fa fa-info-circle" aria-hidden="true"></i>
  Stay safe from CORONA Virus, Contact above given number and schedule a video site visit.
  </center>
</div>

<hr class="mt-2 mb-0">
<div class="rbase64_decode($id)ow pl-2 pr-2" style="background-color:#e5f8ff;" >
<?php
    //$cincout=$this->session->userdata('edit_data');
    $cincout=$this->session->userdata('search_data');
    if(empty($cincout))
    {
      $cincout=$this->session->userdata('search_data');
    }
    $cin=$cincout['from_date'];
    $cout=$cincout['to_date'];
    // print_r($cincout);exit();
?>
<div class=row style=padding-top:8px>
<form action="<?php echo base_url()?>rentals/trip_details" method=post onsubmit="return(validate())";>
<input name=prop_id type=hidden value="<?=$prop_id?>">
<input name=user_id type=hidden value="<?=$user_id?>">
<input name=offer_page type=hidden value="<?=$offer_page?>">
<div class=col-12>
<div class=row>
<div class="col-4 text-center">
<label class=fontss style=margin-top:0>MOVE IN</label>
</div>
<div class="col-4 text-center">
<label class=fontss style=margin-top:0>MOVE OUT</label>
</div>
<div class="col-4 text-center">
<label class=fontss style=margin-top:0>GUESTS</label>
</div>
</div></div><br>
<div class=col-12 style=margin-top:-18px>
  <div class=row>
    <div class=col-4>
      <input name=fromd class="form-control fromd"id=fromdd data-ng-model=user.from_date1 style=font-size:12px;height:38px;margin-left:2px;background-color:#fff placeholder="Move In Date" autocomplete="off" readonly required>
    </div>
   <!--  <div class=col-1 style=margin-top:-20px;margin-left:-5%>
      <span style=font-size:35px>→</span>
    </div> -->
    <div class=col-4>
      <input name=tod class="form-control tod"id=todd data-ng-model=user.to_date1 style=font-size:12px;height:38px;background-color:#fff placeholder="Move Out Date" autocomplete="off" readonly required>
    </div>
    <div class=col-4>
      <select class="form-control num_guests"id=num_guests1 name=num_guests data-ng-change="get_price('num_guests1')"data-ng-model=user.num_guests required>
        <option value="">Select</option>
        <option ng-repeat="x in details.max_guests" value="{{x}}">{{x}}</option>
      </select>
    </div>
  </div>
</div>
<div style=width:80%;display:none;background-color:#f7f9f9;margin-top:2%;margin-left:10% id=long_term1>
  <div style=margin-left:20px id=pricePM3>
    <div class=row>
    <div class=col-6 style=float:left>Rent</div>
    <div class=col-6 style=float:right><span id=long_mon_rent1>0</span>/month</div>
    </div>
  </div>
  <div style=margin-left:20px id=priceDPM3>
    <div class=row>
    <div class=col-6 style=float:left>Deposit</div>
    <div class=col-6 style=float:right id=long_deposit1>0</div>
    </div>
    <br>
  </div>
</div>
<div style=width:80%;display:none;background-color:#f7f9f9;margin-top:2%;margin-left:10% id=short_term_rentals1>
  <div style=margin-left:20px id=pricePM4>
    <div class=row>
    <div class=col-6 style=float:left>Rent</div>
    <div class=col-6 style=float:right><span id=mon_rent1>0</span>/month</div>
    </div>
  </div>
  <div style=margin-left:20px id=priceDPM4>
    <div class=row>
    <div class=col-6 style=float:left>Deposit</div>
    <div class=col-6 style=float:right ng-if="details.monthly_rent!=0">&#x20b9;10,000</div>
    <div class=col-6 style=float:right ng-if="details.monthly_rent==0 && nights>=90">{{deposit}}</div>
    </div>
    <br>
  </div>
</div>
<div class=col-12 style=width:80%;background-color:#f7f9f9;padding:4%;border-radius:0;text-align:center;display:none;margin-left:36px;margin-top:12px id=short_term1>
<div data-ng-if="user.num_guests > details.free_guests">
<span style=color:red class=fontss>&#x20b9;{{details.extra_per_guest}}/guest extra charges are applicable for more than {{details.free_guests}} guest(s).</span>
</div>
<div class=row style=margin-top:-1%>
<div class=col-6 style=float:left>Night</div>
<div class=col-6 style=float:right id=num_days1>0
</div>
</div>
<div class=row>
<div class=col-6 style=float:left>Sub Total</div>
<div class=col-6 style=float:right id=subTotal1>0</div>
</div>
<div ng-if="details.rent==0 && msg2" style="margin-left: -5%;padding-top: 2%;"><span class="badge badge-warning">{{msg2}}</span></div>
</div>
<div class="col-sm-12 badge badge-warning" style="display:none;margin-top: 1%;margin-left: 8%;max-width: 85%;" id=i_response1></div>
<div class="col-sm-12 badge badge-success" style="display:none;margin-top: 1%;margin-left: 8%;max-width: 85%;" id=avl_date1></div>



</div>


</div>
<hr class="mt-0 mb-2">
<div class=row>
<div class="col-12 pl-3 pr-3">
  <div class="btn-group btn-block">
    <a class="btn btn-success msg_frame" ng-if="details.rms_prop=='RMS Prop'" data-src="<? echo base_url()?>rentals/schedulevisit/<?php echo rtrim(base64_encode($prop_id),'=')?>" href="javascript:;" id="msg_frame_3" data-fancybox data-type="iframe">SCHEDULE VISIT</a>
    <a ng-if="details.rms_prop!='RMS Prop'" data-src="<?echo base_url()?>user/send_message/<?=rtrim(base64_encode($prop_id),'=')?>" href="javascript:;" class="btn btn-success msg_frame" data-fancybox data-type=iframe>
            <!-- <i class="fa fa-1x fa-envelope"style="border-radius: 0px;"></i> -->MESSAGE TO HOST
    </a>
    <button class="btn btn-primary " id="book_now1" type="SUBMIT">
      <span ng-if="details.rms_prop=='RMS Prop'">PROCEED TO BOOK</span>
      <span ng-if="details.rms_prop!='RMS Prop'">BOOK NOW PAY LATER</span>
    </button> 
  </div>
</div>
</div>
</form>
</div>
      
</div>
<? if (!empty($video_link)) {?>
  <br>
<div class="embed-responsive embed-responsive-16by9">
  <!-- <iframe class="embed-responsive-item" src="https://www.youtube.com/watch?v=QfxkhQlhGpU" allowfullscreen></iframe> -->
  <iframe width="560" height="315" src="<?=$video_link?>" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
<?} ?>
</div>
</div>
<!-- <div class="container-fluid" style="display:none;width:100%;margin:0 auto;margin-top:1%;background-color:#eee"id=mapp>
<div class="panel panel-body panel-default"style=background-color:#eee id=main-panel>

<div class="row">
<div class="col-5">
<div><span style=font-family:Proxima_Nova;font-size:14px;margin-bottom:1px id=labelDestination></span></div>
<input class="form-control mt-2 d-inline-block" style="width: 60%" id=locationText placeholder="Type your destination to get direction">
<input class="btn d-inline-block" id=searchButton style=;border-color:#00f;font-family:fantasy;background-color:#dcdcdc;display:inline-block;margin-top:-4!important onclick=initializenewmap() type=button value="Get Direction">
</div>
<div class="col-7">
  <ul class="nav nav-tabs float-right" id=element>
<li class="nav-item nav-link"id=restaurant><a href="javascript:onClick=findPlaces('restaurant');"style=font-size:12px;font-family:Proxima_Nova>Restaurants</a></li>
<li class="nav-item nav-link"id=hospital><a href="javascript:onClick=findPlaces('hospital')"style=font-size:12px;font-family:Proxima_Nova>Hospital</a></li>
<li class="nav-item nav-link"id=bus_station><a href="javascript:onClick=findPlaces('bus_station');"style=font-size:12px;font-family:Proxima_Nova>Bus Station</a></li>
<li class="nav-item nav-link"id=place_of_worship><a href="javascript:onClick=findPlaces('place_of_worship');"style=font-size:12px;font-family:Proxima_Nova>Place of worship</a></li>
<li class="nav-item nav-link"id=store><a href="javascript:onClick=findPlaces('store');"style=font-size:12px;font-family:Proxima_Nova>Store</a></li>
<li class="nav-item nav-link"id=shopping_mall><a href="javascript:onClick=findPlaces('shopping_mall');"style=font-size:12px;font-family:Proxima_Nova>Mall</a></li>
<li class="nav-item nav-link"id=park><a href="javascript:onClick=findPlaces('park');"style=font-size:12px;font-family:Proxima_Nova>Parks</a></li>
<li class="nav-item nav-link"id=atm><a href="javascript:onClick=findPlaces('atm');"style=font-size:12px;font-family:Proxima_Nova>ATM</a></li>
</ul>
</div>
</div>
<div class="row">
<div class=col-8>
<div style="height:400px;width:100%;margin:0 auto;position:relative"id=map-canvas></div>
</div>
<div class=col-4>
<div class="panel panel-body panel-default"style=width:390px;height:400px;overflow:scroll id=div1></div>
</div>
</div>
</div>
</div> -->
<br>

<h4 ng-if="similar_listing_props.length" style=text-align:center>Similar Properties</h4>
<br>
<div class="row mx-0">
<div ng-repeat="y in similar_listing_props" class="col-2 shadow p-2 mx-3" style=background-color:#fff>
<img ng-if="y.rms_prop=='RMS Prop' || y.rms_prop=='Revenue Share'" class="lazy1" alt=certified data-src="<?php echo base_url().RES_DIR; ?>/img/certified2.png" style="position: absolute;left: 6;top: 5;">
<a href="<?php echo base_url();?>rentals/details/{{y.en_id}}">
<img alt="{{y.title | uppercase}}" class="lazy1 mx-auto d-block" data-src="{{y.pic_thumbnail}}" id="img{{$index}}" style="height: 200px;width: auto;">
<!-- <div class="rent_price1 p-1" id="rent_price{{$index}}" style="width: 93%"><b style="font-size:14px;"></b></div></a> -->
<div id="text_width{{$index}}">
<a href="<?php echo base_url();?>rentals/details/{{y.en_id}}"><strong><span class=fontsss>{{y.title}}</span></strong></a>
<br>
<small style=color:#000><strong>{{y.prop_type}} - </strong>{{y.ui_address}}</small>
<br>
</div>
<!-- </div> -->
</div>
</div>

<!-- </div> -->
<br>
<div id="footer1" style="display: none;" class="col col-xs-12"></div>
 <?php echo $this->load->view('footer'); ?>
<!-- </div> -->
</div>
<link rel="stylesheet" href="<?php echo base_url().RES_DIR; ?>/css/jquery_ui_theme.css">
<script src="<?php echo base_url().RES_DIR; ?>/js/angular.min.js"></script>
<script src="<?php echo base_url().RES_DIR; ?>/js/prop_desc.js"></script>
<script src="<?php echo base_url().RES_DIR; ?>/js/uikit.min.js"></script>
<script src="<?php echo base_url().RES_DIR; ?>/js/uikit-icons.min.js"></script>
<link href="<?php echo base_url().RES_DIR; ?>/template/font-awesome-4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="<?php echo base_url().RES_DIR; ?>/css/fancybox.css" />
<script src="<?php echo base_url().RES_DIR; ?>/js/fancybox.js"></script>

<script type="text/javascript">
  function lazyload(){
   var lazyImage=document.getElementsByClassName('lazy');
   for(var i=0;i<lazyImage.length;i++){
     lazyImage[i].setAttribute('src',lazyImage[i].getAttribute('data-src'));
   }
   var lazyImage=document.getElementsByClassName('lazy1');
   for(var i=0;i<lazyImage.length;i++){
       lazyImage[i].setAttribute('src',lazyImage[i].getAttribute('data-src'));
   }
  }
setTimeout(function(){lazyload();},3000);
// window.addEventListener("load", function(){
//   lazyload();
// });
// window.onscroll =function(ev){
//  lazyload();
// };
var details={};
var app=angular.module('myApp',[]);
app.filter('removestring', function() {
      return function (text) {
        str = text.split("/").pop();
        str1 = str.replace (/-/g, " ");
        return str1;
    };
});

app.filter('removestring1', function() {
      return function (text) {
        str = text.replace(/-+/g, "-");
        return str;
    };
});
app.filter('remove_HTML_tags', function() {
    return function (text) {
      if (text==null) {
        return text;
      }
      var rex = /(<([^>]+)>)/ig;
      var a=text.replace(rex , "");    
      var v=a.replace(/&nbsp;/g, ' ');
      var b=v.replace(/&amp;/g, '&');
      var c=b.replace(/&quot;/g, '"'); 
      var d=c.replace(/&lt;/g, '<'); 
      var e=d.replace(/&gt;/g, '>'); 
      var f=e.replace(/&rsquo;/g, "'");
      var g=f.replace(/&eacute;/g, "é");  
      return g;      
    };
});

app.filter('unsafe', function($sce) {
    return function(val) {
        return $sce.trustAsHtml(val);
    };
});
app.controller('myCtrl',function($scope,$http,$compile){
    $scope.diffDate = function(date1, date2){
          var dateOut1 = new Date(date1); // it will work if date1 is in ISO format
          var dateOut2 = new Date(date2);
          var timeDiff = Math.abs(date2.getTime() - date1.getTime());
          var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24)); 
          //alert(diffDays);
          return diffDays;
    };
    $scope.count = 0;
    $scope.myFunc = function(val) {
      //alert(document.getElementById('fromd').value);
        $scope.count++;
        $scope.d=val;
        //alert($scope.d);

    };
    var prop_idd="<?php echo $prop_id; ?>";
    $scope.add_to_wishlist=function(){
      document.getElementById('addWish').style.color='red';
      document.getElementById('add').innerHTML='Added to Wishlist';
      var prop_id="<?php echo base64_encode($prop_id); ?>";
      //alert(prop_id);
      var url2='<?php echo base_url();?>api/wishlist1';
      $http({ 
        method :'get',
        url : url2,
       params: {
        prop_id:prop_id,
       action:'add'
       }
      });
    }
    $scope.get_price=function(idd){//alert(idd);
    var td1 = document.getElementsByClassName("tod");
    var fd1 = document.getElementsByClassName("fromd");
    var ng1 = document.getElementsByClassName("num_guests");
    var fd,td,ng;
    var prop_id="<?php echo $prop_id; ?>";
    if(idd==="todd"||idd==="fromdd"||idd==="num_guests1"){
      if (td1.length > 0) {
        td=td1[1].value;
      }
      if (fd1.length > 0) {
        fd=fd1[1].value;
      }
      if (ng1.length > 0) {
        ng=ng1[1].value;
      }
    }else{
      fd=document.getElementById('fromd').value;
      td=document.getElementById('tod').value;
      ng=document.getElementById('num_guests').value;
    }
    // alert(new Date(fd));
    // alert(new Date(td));
    // alert(ng);
      var dat="<?php echo date("d-m-Y")?>";
      //if(fd>=dat && td>=dat){
      if(new Date(td) > new Date(fd)){

      $http({ 
        method :'GET',
        url : url1,
        params: {
        fd:fd,
        td:td,
        ng:ng,
        prop_id:prop_id
        }
      }).then( function mysuccess(response){
            $scope.max_allow_msg=response.data.max_allow_msg;
            $scope.nights=response.data.nights;
            $scope.daily_rent=response.data.daily_rent;
            $scope.msg=response.data.msg;
            $scope.avl_date=response.data.avl_date;
            $scope.avl_date_app=response.data.avl_date_app;
            $scope.user_msg=response.data.user_msg;
            $scope.coupon_discount=response.data.coupon_discount;
            $scope.refferal_money=response.data.refferal_money;
            $scope.total_amount=response.data.total_amount;
            $scope.total_taxes=response.data.total_taxes;
            $scope.message=response.data.message;
            $scope.total_after_discount=response.data.total_after_discount;
            $scope.deposit=response.data.deposit;
            $scope.service_charges=response.data.service_charges;
            $scope.taxes_charges=response.data.taxes_charges;
            $scope.total_amount_after_tax=response.data.total_amount_after_tax;
            $scope.amount_payable=response.data.amount_payable;
            $scope.amount_remaining=response.data.amount_remaining;
            $scope.tax=response.data.tax;
            $scope.msg1=response.data.msg1;
            $scope.msg2=response.data.msg2;
            //alert($scope.msg);alert($scope.avl_date);
            //alert($scope.msg1);
            if($scope.msg1){
              document.getElementById('book_now').disabled=true;
              document.getElementById('i_response').style.display='block';
              document.getElementById('avl_date').style.display='none';
              document.getElementById('book_now1').disabled=true;
              document.getElementById('i_response1').style.display='block';
              document.getElementById('avl_date1').style.display='none';
              document.getElementById('long_term').style.display='none';
              document.getElementById('short_term').style.display='none';
              document.getElementById('short_term_rentals').style.display='none';
              document.getElementById('long_term1').style.display='none';
              document.getElementById('short_term1').style.display='none';
              document.getElementById('short_term_rentals1').style.display='none';
              $("#i_response").html($scope.msg1); 
            //$("#avl_date").html($scope.avl_date);
             $("#i_response1").html($scope.msg1); 
            //$("#avl_date1").html($scope.avl_date);
            }else{
            if($scope.msg){
              document.getElementById('book_now').disabled=true;
              document.getElementById('i_response').style.display='block';
              document.getElementById('avl_date').style.display='block';
              document.getElementById('book_now1').disabled=true;
              document.getElementById('i_response1').style.display='block';
              document.getElementById('avl_date1').style.display='block';
              $("#i_response").html($scope.msg); 
            $("#avl_date").html($scope.avl_date);
             $("#i_response1").html($scope.msg); 
            $("#avl_date1").html($scope.avl_date);
            }else{
              document.getElementById('book_now').disabled=false;
              document.getElementById('i_response').style.display='none';
              document.getElementById('avl_date').style.display='none';
              document.getElementById('book_now1').disabled=false;
              document.getElementById('i_response1').style.display='none';
              document.getElementById('avl_date1').style.display='none';
            }
          }
            if ( $scope.total_after_discount) {
            if ($scope.nights>=90) {
              $('#long_mon_rent').html($scope.total_after_discount);
              $('#long_deposit').html($scope.deposit);
              $('#long_mon_rent1').html($scope.total_after_discount);
              $('#long_deposit1').html($scope.deposit);
              document.getElementById('long_term').style.display='block';
              document.getElementById('short_term').style.display='none';
              document.getElementById('short_term_rentals').style.display='none';
              document.getElementById('long_term1').style.display='block';
              document.getElementById('short_term1').style.display='none';
              document.getElementById('short_term_rentals1').style.display='none';
            }
            else if($scope.nights>=30)
            {
              // document.getElementById('short_term_rentals').style.display='block';
              $('#mon_rent').html($scope.total_after_discount);
              document.getElementById('long_term').style.display='none';
              document.getElementById('short_term').style.display='none';
              if($scope.details.monthly_rent!=0){
                document.getElementById('short_term_rentals').style.display='block';
               document.getElementById('short_term_rentals1').style.display='block';
              }
              else if($scope.details.monthly_rent==0 && $scope.nights>=90){
                document.getElementById('short_term_rentals').style.display='block';
                document.getElementById('short_term_rentals1').style.display='block';
              }
              else{
                document.getElementById('short_term_rentals').style.display='none';
                document.getElementById('short_term_rentals1').style.display='none';
              }
              $('#mon_rent1').html($scope.total_after_discount);
              document.getElementById('long_term1').style.display='none';
              document.getElementById('short_term1').style.display='none';

            }
            else{
              document.getElementById('short_term_rentals').style.display='none';
              document.getElementById('long_term').style.display='none';
              document.getElementById('short_term').style.display='block';
              document.getElementById('short_term_rentals1').style.display='none';
              document.getElementById('long_term1').style.display='none';
              document.getElementById('short_term1').style.display='block';
            }
            $('#num_days').html($scope.nights);
            $('#subTotal').html($scope.total_after_discount +' INR');
            $("#max_allow_msg").html($scope.max_allow_msg);
            $('#num_days1').html($scope.nights);
            $('#subTotal1').html($scope.total_after_discount +' INR');
            $("#max_allow_msg1").html($scope.max_allow_msg);  
          }else{
            //alert(data.msg);
          }
          },function myerror(response){
          });
        }else{
          document.getElementById('book_now').disabled=true;
          document.getElementById('book_now1').disabled=true;
          document.getElementById('long_term').style.display='none';
          document.getElementById('short_term').style.display='none';
          document.getElementById('short_term_rentals').style.display='none';
          document.getElementById('long_term1').style.display='none';
          document.getElementById('short_term1').style.display='none';
          document.getElementById('short_term_rentals1').style.display='none';
          document.getElementById('i_response1').style.display='block';
          document.getElementById('i_response').style.display='block';
          $("#i_response1").html("Move Out Date should be greater than Move In Date");
          $("#i_response").html("Move Out Date should be greater than Move In Date");
          //alert("Move Out Date should be greater than Move In Date");
        }
      // }
      // else{
      //   document.getElementById('book_now').style.display='none';
      //   document.getElementById('book_now1').style.display='none';
      //   document.getElementById('long_term').style.display='none';
      //   document.getElementById('short_term').style.display='none';
      //   document.getElementById('short_term_rentals').style.display='none';
      //   document.getElementById('long_term1').style.display='none';
      //   document.getElementById('short_term1').style.display='none';
      //   document.getElementById('short_term_rentals1').style.display='none';
      //   document.getElementById('i_response1').style.display='block';
      //   document.getElementById('i_response').style.display='block';
      //   $("#i_response1").html("Move In/Out Date cannot be less than Today's Date");
      //   $("#i_response").html("Move In/Out Date cannot be less than Today's Date");
      //   alert("Move In/Out Date cannot be less than Today's Date");
      // }
    }
    var prop_id="<?php echo $prop_id; ?>";
    var offer_page="<?php echo $offer_page; ?>";
    var url='<?php echo base_url();?>rentals/prop_desc_api';
    var url1='<?php echo base_url();?>api/calculate_property_cost1';
     
    $http({ 
        method :'get',
        url : url,
        params: {
        prop_id: prop_id,
        // user_id: user_id,
        offer_page: offer_page
      }
    }).then( function mysuccess(response){
    //alert()
      $('#loading').hide();
      $('#main').fadeIn('slow');
      $scope.fixDate = function(date){
      return new Date(date);
      };
       $scope.details=response.data.details;
       details=response.data.details;
       $scope.isWish=response.data.isWish;
       // $scope.last_visited_props=response.data.last_visited_props;
       $scope.similar_listing_props=response.data.similar_listing_props;
       // $scope.view_booking_info=response.data.view_booking_info;
       // $scope.rent_details=response.data.rent_details;
       // $scope.lead_name=response.data.lead_name;
       // $scope.lead_number=response.data.lead_number;
       // $scope.lead_email=response.data.lead_email;
       $scope.pic=response.data.pic;
       $scope.prop_owner=response.data.prop_owner;
       // $scope.amenity_desc=response.data.amenity_desc;
       $scope.amenity=response.data.amenity;
       $scope.s_link_url=response.data.s_link_url;
       $scope.blog_link_url=response.data.blog_link_url;
       var desc=response.data.details.description;
       $('#desc_web,#desc_mob').html(desc);
       if ($scope.amenity) {
        if($scope.amenity.cable_tv){
          $scope.cable=$scope.amenity.cable_tv;
        }
        if($scope.amenity.wifi){
          $scope.wifi=$scope.amenity.wifi;
        }
        if($scope.amenity.air_conditioning){
          $scope.ac=$scope.amenity.air_conditioning;
        }
        if($scope.amenity.kitchen){
          $scope.kitchen=$scope.amenity.kitchen;
        }
        if($scope.amenity.refrigerator){
          $scope.refrigerator=$scope.amenity.refrigerator;
        }
        if($scope.amenity.gym){
          $scope.gym=$scope.amenity.gym;
        }
        if($scope.amenity.mobile_network){
          $scope.mob=$scope.amenity.mobile_network;
        }
        if($scope.amenity.balcony){
          $scope.balcony=$scope.amenity.balcony;
        }
        if($scope.amenity.security){
          $scope.security=$scope.amenity.security;
        }
        if($scope.amenity.elevator){
          $scope.elevator=$scope.amenity.elevator;
        }
        if($scope.amenity.pool){
          $scope.pool=$scope.amenity.pool;
        }
        if($scope.amenity.smoking){
          $scope.smoking=$scope.amenity.smoking;
        }
        if($scope.amenity.breakfast){
          $scope.breakfast=$scope.amenity.breakfast;
        }
        if($scope.amenity.food_service){
          $scope.food_service=$scope.amenity.food_service;
        }
        if($scope.amenity.housekeeping){
          $scope.housekeeping=$scope.amenity.housekeeping;
        }
       }
       // $scope.title=response.data.title;
       $scope.show=true;
       $scope.lat=$scope.details.glat;
       $scope.lng=$scope.details.glng;

      $scope.user={};
      var date=new Date();
      $scope.user.from_date1='<?php echo date("d-M-Y",strtotime($fromd))?>';
      $scope.user.to_date1='<?php echo date("d-M-Y",strtotime($tod))?>';
      $scope.user.num_guests=response.data.details.free_guests;
      // if (response.data.guests) {
      //   $scope.user.num_guests=response.data.guests;
      // }
       // alert($scope.lat);
       // alert($scope.lng);
       // $scope.initialize = function() {
       //    $scope.map1 = new google.maps.Map(document.getElementById('map_div'), {
       //       center: {lat:parseInt($scope.lat), lng: parseInt($scope.lng)},
       //       zoom: 10
       //    });
       // }    
    //    $scope.addMarker = function(){
    //     $scope.mymarker = new google.maps.Marker({
    //         map: $scope.map1,
    //         animation: google.maps.Animation.DROP,
    //         position: new google.maps.LatLng(parseInt($scope.lat), parseInt($scope.lng)),
    //         title: $scope.details.title
    //     });
    // }
    // Initial 50 characters will be displayed.
    $scope.strLimit = 200;
    $scope.strLimit1 = 200;

    // String
    $scope.jobs = {
      description: $scope.details.description,
      desc: $scope.details.things2note
    };
    lazyload();
    // Event trigger on click of the Show more button.
     $scope.showMore = function() {
       $scope.strLimit = $scope.jobs.description.length;
     };
     $scope.showMore1 = function() {
       $scope.strLimit1 = $scope.jobs.desc.length;
     };

    // Event trigger on click on the Show less button.
     $scope.showLess = function() {
       $scope.strLimit = 200;
     };
     $scope.showLess1 = function() {
       $scope.strLimit1 = 200;
     };
    google.maps.event.addDomListener(window, 'load', $scope.initialize); 
  }, function myerror(response){
      console.log(response);
     
    });
      angular.element(document).ready(function() {
            $('body').fadeIn();
          });
  });

  function std_num(el){
    if (el.checked==true) {
      $('#contact_num').attr('pattern','.{11,}');
      $('#contact_num').attr('title','Min 11 digit required for international number.');
      $('#c_code').hide();
    }else{
      $('#contact_num').attr('pattern','.{10}');
      $('#contact_num').attr('title','10 digit contact number.');
      $('#c_code').show();
    }
  }


function validateForm(){
    var mb=/^[0-9]{10}$/;
    var email=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;

    if (document.getElementById("sign_up_fname").value == null || document.getElementById("sign_up_fname").value == "") {
        document.getElementById('fname_required').innerHTML="First Name must be filled out";
        return false;
    }
   else if ((document.getElementById("sign_up_fname").value).length<2) {
        document.getElementById('fname_required').innerHTML="The First Name field must be at least 2 characters in length.";
        return false;
    }
   else if (document.getElementById("sign_up_lname").value == null || document.getElementById("sign_up_lname").value == "") {
        document.getElementById('lname_required').innerHTML="Last Name must be filled out";
        return false;
    }
    else if((document.getElementById('contact_num').value != null || document.getElementById('contact_num').value != "") && mb.test(document.getElementById('contact_num').value)==false){
       document.getElementById('num_required').innerHTML="Require valid mobile number";
       return false;
      }
      else if ((document.getElementById('sign_up_email').value != null || document.getElementById('sign_up_email').value != "") && email.test(document.getElementById('sign_up_email').value)==false) {
        document.getElementById('email_required').innerHTML="Email must be filled out";
        return false;
    }
    else 
    {
      var flag;
      var email=document.getElementById('sign_up_email').value;
      $.ajax({
        async:false,
       type: 'POST',
       data:{'email':email},
       url: 'account/sign_up/check_email',
      dataType  : 'json'
     }).success(function(data){
      if(data==1){
      flag=1;
      }
      else
      {
        document.getElementById('email_required').innerHTML="Email already used";
        flag=0;
      }
     }).fail(function(data){
       document.getElementById('email_required').innerHTML="Try again";
     });
     if (flag==1) {
      return true;
     }
      else
        return false;
    }
    return true;
}
function clearmessage()
{
  document.getElementById('fname_required').innerHTML="";
  document.getElementById('lname_required').innerHTML="";
  document.getElementById('num_required').innerHTML="";
  document.getElementById('email_required').innerHTML="";
}

// setTimeout(function(){lazyload();},3000);
window.onscroll =function(ev){
  document.getElementById('footer1').style.display='block';
  document.getElementById('mapp').style.display='block';
  //document.getElementById('mob_amenities').style.display='block';
  //document.getElementById('mob_rents').style.display='block';
  //document.getElementById('mob_rules').style.display='block';
};

function hide_booking(){
  $("#hide_book").toggleClass("hide_book");
  $("#hide_b").toggleClass("h_b_n");
}

var items='restaurant';
google.maps.event.addDomListener(window, 'load', function () {
   var places = new google.maps.places.Autocomplete(document.getElementById('search_city'));
   google.maps.event.addListener(places, 'place_changed', function () {
       var place = places.getPlace();
       var address = place.formatted_address;
       var latitude = place.geometry.location.lat();
       var longitude = place.geometry.location.lng();
       var mesg = "Address: " + address;
       mesg += "\nLatitude: " + latitude;
       mesg += "\nLongitude: " + longitude;
   });
});

$(function(){
    $("a[href='#maps']").on('shown.bs.tab', function(){
      initialize();
    });
});

var draw_circle = null;  // object of google maps polygon for redrawing the circle
var mapCenter;

var infowindow;
var placesList;
var pyrmont=new google.maps.LatLng("<?echo $glat?>", "<?echo $glng?>");
// var map = new google.maps.Map(document.getElementById('map-canvas'), {
//     center: pyrmont,
//     zoom: 15,
//     navigationControl: false,
//     mapTypeControl: false,
//     scaleControl: false,
//     draggable: false,
//     //zoomControl: false,
//     scrollwheel: false,
//     disableDoubleClickZoom: true
//     });

  /*function DrawCircle() {
      rad = 100; // convert to meters if in miles  
      if (draw_circle != null) {
          draw_circle.setMap(null);
      }/
      draw_circle = new google.maps.Circle({
          center: pyrmont,
          radius: rad,
          strokeColor: "#990000",
          strokeOpacity: 0.4,
          strokeWeight: 1,
          fillColor: "#990000", 
          fillOpacity: 0.20,
          map: map
      });
  }*/
   var directionsService = new google.maps.DirectionsService();
 //this function is used to load the map
      function initialize(){
        var autocomplete = new google.maps.places.Autocomplete(document.getElementById('locationText'));       
        // var request = {
        // location: pyrmont,
        // radius: 500,
        // types: ['restaurant']
        // };
        // infowindow = new google.maps.InfoWindow();
        // placesList = document.getElementById('places');
        // var service = new google.maps.places.PlacesService(map);
        // service.nearbySearch(request, callback);
        markCenter();
     }
  
    function callback(results, status, pagination){
     var loc=""; 
     for (var i = 0; i < results.length; i++) {
        loc+="<li style='font-family: Proxima_Nova;font-size: 14;'><b>"+results[i].name+"</b>-"+results[i].vicinity+"</li><br>";  
        /*if(loc=="");
         loc="there is no"+results[i].type;*/
        // alert(loc);
     }

      document.getElementById("div1").innerHTML=loc;
      if (status != google.maps.places.PlacesServiceStatus.OK){
       return;
      } 
     else{
      createMarkers(results);
      // if (pagination.hasNextPage){
      //   var moreButton = document.getElementById('gmap_type');
      //   moreButton.disabled = true;
      //   google.maps.event.addDomListenerOnce(moreButton, 'click',
      //       function(){
      //       moreButton.disabled = true;
      //        pagination.nextPage();
      //   });
      // }
    }
  }
  var logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png' ;

  function createMarkers(places){
   /* alert(places);*/
    var bounds = new google.maps.LatLngBounds();
    for (var i = 0, place; place = places[i]; i++) {
    var image = {
    url: logo,
    size: new google.maps.Size(71, 71),
    origin: new google.maps.Point(0, 0),
    anchor: new google.maps.Point(17, 34),
    scaledSize: new google.maps.Size(30, 30)
  };
    var marker = new google.maps.Marker({
     map: map,
    icon: image,
    title: place.name,
    position: place.geometry.location
  });
     bounds.extend(place.geometry.location);
     }
      map.fitBounds(bounds);
  }
  function findPlaces(type){
    //var type=document.getElementById("gmap_type").value;
    switch(type){
      case 'restaurant':
      logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png';
      break;
      case 'hospital':
      logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png';
      break;
      case 'bus_station':
      logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png';
      break;
      case 'place_of_worship':
      logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png';
      break;
      case 'store':
      logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png';
      break;
      case 'shopping_mall':
      logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png';
      break;
      case 'park':
      logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png';
      break;
      case 'atm':
      logo='<?php echo base_url().RES_DIR;?>/img/utility_icon/loc_marker.png';
      break
    }
    $("#"+items).removeClass("active");
    $("#"+type).addClass("active");
    items=type;
    var radius=500;
    var request = 
    {
      location: pyrmont,
      radius: 500,
      types: [type]
    };
    infowindow = new google.maps.InfoWindow();
    placesList = document.getElementById('places');
    var service = new google.maps.places.PlacesService(map);
    service.nearbySearch(request, callback);
     //DrawCircle() ; 
     markCenter();
  }
  function markCenter()
  {
    var logo1='<?php echo base_url().RES_DIR;?>/img/utility_icon/markerP.png';
    var image = {
    url: logo1,
    size: new google.maps.Size(71, 71),
    origin: new google.maps.Point(0, 0),
    anchor: new google.maps.Point(17, 34),
    scaledSize: new google.maps.Size(35, 35)
  };
  var marker = new google.maps.Marker({
    map: map,
    icon: image,
    position:pyrmont
  });
      
  }
  function update_results(){
      var passd=get_form_value();
      getMapData(passd);  
  }
  google.maps.event.addDomListener(window, 'load', initialize);
 
  function change(){
    $('#heart').css({
      'color':'#cc0033'
    });
  }
  function change2(){
    $('#heart').css({
        'color':'#B0B0B0'
    });
  }

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 //for show the distance and driving time
  var location1;
  var location2;  
  var address1;
  var address2;
  var latlng;
  var geocoder;
  var map;
  var distance;
  // finds the coordinates for the two locations and calls the showMap() function
  function initializenewmap()
  {
    geocoder = new google.maps.Geocoder(); // creating a new geocode object
    // getting the two address values
    address1=details.ui_address;
    address2 = document.getElementById("locationText").value;
      // finding out the coordinates      
    if (geocoder){     
          geocoder.geocode( { 'address': address1}, function(results, status){
           if(status == google.maps.GeocoderStatus.OK){
          //location of first address (latitude + longitude)
          location1 = results[0].geometry.location;
        } else 
        {
          alert("Geocode was not successful for the following reason: " + status);
        }
      });

          geocoder.geocode( { 'address': address2}, function(results, status){         
        if (status == google.maps.GeocoderStatus.OK){
          //location of second address (latitude + longitude)
          location2 = results[0].geometry.location;
          // calling the showMap() function to create and show the map 
          showMap();
        } else 
        {
          /*alert("Geocode was not successful for the following reason: " + status+"hii");*/
          document.getElementById("div1").innerHTML="<h5 style='color:red;font:bold;'>Please enter the destination in 'Your Destination'</h5>";
        }
      });
    }
  }
  // creates and shows the map
  function showMap(){
    // center of the map (compute the mean value between the two locations)
   latlng = new google.maps.LatLng((location1.lat()+location2.lat())/2,(location1.lng()+location2.lng())/2);
    // set map options
      // set zoom level
      // set center
      // map typ
    var mapOptions = 
    {
      zoom: 1,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    // create a new map object
    // set the div id where it will be shown
    // set the map options
    map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
    // show route between the points
    directionsService = new google.maps.DirectionsService();
    directionsDisplay = new google.maps.DirectionsRenderer(
    {
      suppressMarkers: true,
      suppressInfoWindows: true
    });
    directionsDisplay.setMap(map);
    var request = {
      origin:location1, 
      destination:location2,
      travelMode: google.maps.DirectionsTravelMode.DRIVING
    };
    directionsService.route(request, function(response, status){
      if (status == google.maps.DirectionsStatus.OK){
        directionsDisplay.setDirections(response);
        distance = "<h5 style='color:blue';>The distance between source and destination on the chosen route is: "+response.routes[0].legs[0].distance.text+"</h5>";
        distance += "<br/><h5 style='color:blue;'>The aproximative driving time is: "+response.routes[0].legs[0].duration.text+"</h5>";
        document.getElementById("div1").innerHTML = distance;
      }
    });
    // show a line between the two points
    var line = new google.maps.Polyline({
      map: map, 
      path: [location1, location2],
      strokeWeight: 7,
      strokeOpacity: 0.8,
      strokeColor: "#FFAA00"
    });
    // create the markers for the two locations   
    var marker1 = new google.maps.Marker({
      map: map, 
      position: location1,
      title: "First location"
    });
    var marker2 = new google.maps.Marker({
      map: map, 
      position: location2,
      title: "Second location"
    });
    // create the text to be shown in the infowindows
    var text1 = '<div id="content">'+
        '<h1 id="firstHeading">First location</h1>'+
        '<div id="bodyContent">'+
        '<p>Coordinates: '+location1+'</p>'+
        '<p>Address: '+address1+'</p>'+
        '</div>'+
        '</div>';
    var text2 = '<div id="content">'+
      '<h1 id="firstHeading">Second location</h1>'+
      '<div id="bodyContent">'+
      '<p>Coordinates: '+location2+'</p>'+
      '<p>Address: '+address2+'</p>'+
      '</div>'+
      '</div>';
     // create info boxes for the two markers
    var infowindow1 = new google.maps.InfoWindow({
      content: text1
    });
    var infowindow2 = new google.maps.InfoWindow({
      content: text2
    });
    // add action events so the info windows will be shown when the marker is clicked
    google.maps.event.addListener(marker1, 'click', function() {
      infowindow1.open(map,marker1);
    });
    google.maps.event.addListener(marker2, 'click', function() {
      infowindow2.open(map,marker1);
    });
    // compute distance between the two points
    var R = 6371; 
    var dLat = toRad(location2.lat()-location1.lat());
    var dLon = toRad(location2.lng()-location1.lng()); 
    
    var dLat1 = toRad(location1.lat());
    var dLat2 = toRad(location2.lat());
    
    var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
        Math.cos(dLat1) * Math.cos(dLat1) * 
        Math.sin(dLon/2) * Math.sin(dLon/2); 
    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
    var d = R * c;
   //alert(d);
   // document.getElementById("div1").innerHTML = "<br/>The distance is: "+d;
  }
  function toRad(deg){
    return deg * Math.PI/180;
  }

function events(){
  alert("Inside events");
  var from_date=new Date(document.forms["bookform"]["fromd"].value);
  var to_date=new Date(document.forms["bookform"]["tod"].value);
  alert(from_date);
  alert(to_date);
  if(from_date>to_date ){
    alert("Invalid Move-in/Move-out Date")
    //console.log("x>y")
    event.preventDefault();
    return false;  
  }else if(from_date.getTime()===to_date.getTime()){
    alert('Move in/out date cannot be same');
    event.preventDefault();
    return false;  
  }
}
function validate(){
    var sa = document.getElementById('book_now1');
    sa.disabled = true;
    return true;
}


 
  $(document).ready(function(){
    $(".msg_frame").fancybox({
      iframe : {
        css : {
              width  : '310px',
              height : '400px'
              }
      }
    });
    var fromd =new Date('<?echo $fromd?>');
    var td=new Date('<?echo $tod?>');

    $('#fromdd').datepicker({
        // startDate: date,
        startDate: "yesterday",
        format: "dd-M-yyyy",
        autoclose: true
    }).datepicker('setDate', fromd).on('change', function(){
      var startd=new Date($(this).val());
      var endd=new Date($(this).val());
      startd.setDate(startd.getDate() + 1);
      endd.setMonth(endd.getMonth() + 11);
      $('#todd').datepicker('setStartDate', startd).datepicker('setEndDate', endd).datepicker('setDate', startd).datepicker('show');
    });
    
    $('#todd').datepicker({
        startDate: td,
        format: "dd-M-yyyy",
        autoclose: true
    }).datepicker('setDate', td).on('change', function(){
      $scope.get_price('todd');
    });

    $('#fromd').datepicker({
        //startDate: '0d',
        startDate: "yesterday",
        format: "dd-M-yyyy",
        autoclose: true
    }).datepicker('setDate', fromd).on('change', function(){
        var startd=new Date($(this).val());
        var endd=new Date($(this).val());
        startd.setDate(startd.getDate() + 1);
        endd.setMonth(endd.getMonth() + 11);
        $('#tod').datepicker('setStartDate', startd).datepicker('setEndDate', endd).datepicker('setDate', startd).datepicker('show');
    });

    $('#tod').datepicker({
        startDate: td,
        format: "dd-M-yyyy",
        autoclose: true
    }).datepicker('setDate', td).on('change', function(){
      $scope.get_price('tod');
    });
  });
</script>
</body>
</html>
